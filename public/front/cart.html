<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <link rel="icon" href="./favicon.ico">
    <link rel="stylesheet" href="./lib/mui/css/mui.css">
    <link rel="stylesheet" href="./lib/fa/css/font-awesome.css">
    <link rel="stylesheet" href="./css/common.css">
    <link rel="stylesheet" href="./css/cart.css">

    <title>购物车</title>
</head>
<body>
<div class="lt-container">
    <!--头部-->
    <header class='lt-header'>
        <div class="header-l">
            <a href="javascript:history.go(-1);">
                <span class="mui-icon mui-icon-arrowleft"></span>
            </a>
        </div>
        <div class="header-c"><h4>购物车</h4></div>
    </header>

    <!--主题部分-->
    <div class="lt-main mui-scroll-wrapper">
        <div class="mui-scroll">
            <ul class="mui-table-view">
                <!--模板引擎-->
            </ul>
        </div>
    </div>

    <div class="lt_total mui-clearfix">
        <div class="mui-pull-left price_box">
            订单总金额 &yen;<span class="allPrice">00:00</span>
        </div>
        <div class="mui-pull-right">
            <button class="mui-btn mui-btn-red">生成订单</button>
        </div>
    </div>
    <!--底部-->
    <footer class="lt-footer">
        <ul class="mui-clearfix">
            <li><a href="index.html"><span class="fa fa-home"></span>
                <p>主页</p>
            </a></li>
            <li><a href="category.html"><span class="fa fa-bars"></span>
                <p>分类</p>
            </a></li>
            <li class='now'><a href="cart.html"><span class="fa fa-shopping-cart"></span>
                <p>购物车</p>
            </a></li>
            <li><a href="user.html"><span class="fa fa-user"></span>
                <p>会员中心</p>
            </a></li>
        </ul>
    </footer>
</div>

<script type="text/html" id="tpl">

    {{if list.length == 0}}
    <p>快去剁手吧</p>
    {{/if}}

    {{each list v i}}
    <li class="mui-table-view-cell mui-transitioning">
        <div class="mui-slider-right mui-disabled">
            <a class="mui-btn mui-btn-blue mui-icon mui-icon-compose btn_edit"
               data-id="{{v.id}}"
               data-size="{{v.size}}"
               data-num="{{v.num}}"
               data-productNum = "{{v.productNum}}"
               data-productSize="{{v.productSize}}"
            ></a>
            <a data-id="{{v.id}}" class="mui-btn mui-btn-red mui-icon mui-icon-trash btn_delete"></a>
        </div>
        <div class="mui-slider-handle">
            <div class="mui-table-cell">
                <div class="pro_img">
                    <img src="{{v.pic[0].picAddr}}">
                </div>
                <div class="pro_info">
                    <p class="pro_name">{{v.proName}}</p>
                    <p class="pro_price_box">
                        <span class='pro_price'>&yen;{{v.price}}</span>
                        <span class='pro_oldPrice'>&yen;{{v.oldPrice}}</span>
                        <span class='pro_num mui-pull-right'>{{v.num}}双</span>
                    </p>
                    <p>鞋码：{{v.size}}</p>
                    <input data-price="{{v.price}}" data-num="{{v.num}}" type="checkbox" class="pro_check">
                </div>
            </div>
        </div>
    </li>
    {{/each}}
</script>

<script type="text/html" id="tpl2">
    <p class="tpl2_pro_size mui-text-left">
        <strong>尺码：</strong>
        <%
            var tem = productsize.split('-');
            for(var i = tem[0]; i <= tem[1]; i++){
        %>
        <span class="{{i==size?'now':''}}">{{i}}</span>
        <%}%>
    </p>
    <div class="mui-text-left">
        <strong>数量：</strong>
        <div class="mui-numbox" data-numbox-step='1' data-numbox-min='1' data-numbox-max='{{productnum}}'>
            <button class="mui-btn mui-numbox-btn-minus" type="button">-</button>
            <input class="mui-numbox-input tpl2_num" type="number" value="{{num}}" />
            <button class="mui-btn mui-numbox-btn-plus" type="button">+</button>
        </div>
    </div>
</script>

<script src="./lib/zepto/zepto.min.js"></script>
<script src="./lib/mui/js/mui.js"></script>
<script src="./lib/artTemplate/template-web.js"></script>
<script src="./js/common.js"></script>
<script src="./js/cart.js"></script>
</body>
</html>